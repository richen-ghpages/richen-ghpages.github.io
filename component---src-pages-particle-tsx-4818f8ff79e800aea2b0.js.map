{"version":3,"sources":["webpack://richen-portfolio/./src/components/PageHeader.tsx","webpack://richen-portfolio/./src/components/PageMain.tsx","webpack://richen-portfolio/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://richen-portfolio/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://richen-portfolio/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://richen-portfolio/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://richen-portfolio/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://richen-portfolio/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://richen-portfolio/./node_modules/@rooks/use-window-size/lib/index.esm.js","webpack://richen-portfolio/./node_modules/react-particle-image/dist/index.es.js","webpack://richen-portfolio/./src/components/Particle.tsx","webpack://richen-portfolio/./src/pages/particle.tsx"],"names":["SPageHeaderContainer","styled","props","theme","palette","common","pageBackgroundAlt","children","SPageMain","TPageMain","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","value","err","o","minLen","n","Object","prototype","toString","slice","constructor","name","from","test","TypeError","useIsomorphicEffect","window","useEffect","useLayoutEffect","nullDimensions","innerWidth","innerHeight","outerWidth","outerHeight","getDimensions","_useState2","useState","windowSize","setWindowSize","onResize","addEventListener","removeEventListener","_extendStatics","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","__","this","create","_assign","assign","t","s","arguments","apply","__generator","thisArg","body","f","y","g","_","label","sent","trys","ops","verb","v","op","pop","e","step","__read","m","r","ar","error","__spread","concat","commonjsGlobal","globalThis","self","FUNC_ERROR_TEXT","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","freeGlobal","freeSelf","root","Function","objectToString","nativeMax","Math","max","nativeMin","min","now","Date","debounce","func","wait","options","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","args","undefined","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","toNumber","isObject","cancel","clearTimeout","flush","type","isObjectLike","isSymbol","other","valueOf","replace","isBinary","module","UniverseState","lodash_throttle","Vector","x","add","vector","subtract","addScalar","scalar","divideScalar","multiplyScalar","getMagnitude","sqrt","getAngle","atan2","clone","toUnit","magnitude","angle","cos","sin","sum","vectors","forEach","lodash_flatmap","exports","HASH_UNDEFINED","MAX_SAFE_INTEGER","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","reIsDeepProp","reIsPlainProp","reLeadingDot","rePropName","reEscapeChar","reIsHostCtor","reIsUint","typedArrayTags","freeExports","nodeType","freeModule","freeProcess","process","nodeUtil","binding","nodeIsTypedArray","isTypedArray","arrayMap","array","iteratee","index","arrayPush","values","offset","arraySome","predicate","isHostObject","mapToArray","map","size","key","setToArray","set","uid","transform","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","exec","keys","IE_PROTO","funcToString","reIsNative","RegExp","Uint8Array","propertyIsEnumerable","splice","spreadableSymbol","isConcatSpreadable","nativeKeys","arg","DataView","getNative","Map","Promise","Set","WeakMap","nativeCreate","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","symbolToString","Hash","entries","clear","entry","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArguments","baseTimes","String","skipIndexes","isIndex","assocIndexOf","eq","has","get","data","getMapData","cache","pairs","LARGE_ARRAY_SIZE","eachFunc","fromRight","baseEach","object","baseFor","collection","isArrayLike","iterable","baseFlatten","depth","isStrict","isFlattenable","keysFunc","createBaseFor","baseGet","path","isKey","castPath","toKey","baseHasIn","baseIsEqual","customizer","bitmask","stack","equalFunc","objIsArr","othIsArr","objTag","othTag","getTag","objIsObj","othIsObj","isSameTag","equalArrays","tag","byteLength","byteOffset","buffer","message","convert","isPartial","stacked","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","othLength","skipCtor","objValue","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsNative","isMasked","isFunction","baseIteratee","identity","srcValue","isStrictComparable","matchesStrictComparable","defaultValue","hasFunc","isLength","hasPath","hasIn","UNORDERED_COMPARE_FLAG","baseMatchesProperty","matchData","getMatchData","source","noCustomizer","baseIsMatch","basePropertyDeep","baseKeys","Ctor","proto","baseMap","stringToPath","arrLength","seen","arrValue","othIndex","getValue","ArrayBuffer","resolve","ctorString","memoize","string","baseToString","match","number","quote","resolver","memoized","Cache","isArrayLikeObject","baseUnary","fn","Subverse","parent","particles","particleForces","subverses","createSubverse","subverse","removeSubverse","filter","addParticle","particle","removeParticle","getParticles","addParticleForce","particleForce","removeParticleForce","pf","getParticleForces","enforceBounds","bounds","position","right","velocity","left","bottom","top","applyForces","forces","acceleration","mass","tick","_this","timing","linear","easeInQuad","easeOutQuad","easeInOutQuad","Universe","_super","_a","_b","_c","frameRate","creationDuration","deathDuration","_f","creationTimingFn","_g","deathTimingFn","onStateChange","health","creationRate","deathRate","setFrameRate","setCreationDuration","setDeathDuration","setState","Creating","val","state","applyGrowth","perceivedRadius","radius","applyDecay","setOnStateChange","die","Dying","resolveDeath","Created","Dead","Particle","friction","_h","color","_j","growthRate","_k","decayRate","Renderer","getImageData","src","image","Image","crossOrigin","reject","onload","canvas","document","createElement","width","height","context","getContext","Error","drawImage","imageData","clearRect","pixels","floor","a","Array2D","onerror","TwoPI","PI","getMousePosition","event","target","rect","getBoundingClientRect","clientX","clientY","BrowserAnimator","callback","fps","setFps","delay","frame","start","rafId","requestAnimationFrame","loop","stop","cancelAnimationFrame","timestamp","seg","CanvasRenderer","drawParticles","fillStyle","beginPath","moveTo","arc","fill","drawFrame","universe","grouper","particlesByColor","reduce","groups","item","Simulator","renderer","id","animator","setUniverse","blackHole$$1","blackHoleX","blackHoleY","strength","entropy$$1","random","ImageState","friction$$1","freeze","blackHole","disturbance","holePosition","entropy","PixelManager","setScale","scale","setCanvasWidth","canvasWidth","setCanvasHeight","canvasHeight","getParticleForce","pixelPosition","getPixelPosition","pixelX","imageWidth","pixelY","imageHeight","updateWidth","updateHeight","row","getHeight","getWidth","xMin","xMax","yMin","yMax","createImageUniverse","_arguments","P","generator","url","maxParticles","particleOptions","canvasDimensions","onUniverseStateChange","numPixels","indexArray","selectedPixels","pixelManagers","nextIndex","pixelManager","temporaryValue","randomIndex","currentIndex","shuffle","initialPosition","finalPosition","initialVelocity","fulfilled","rejected","then","useTransientParticleForce","duration","setParticleForce","timeoutId_1","defaultParticleOptions","backgroundColor","mouseMoveForce","touchMoveForce","mouseDownForce","mouseMoveForceDuration","touchMoveForceDuration","_l","mouseDownForceDuration","onImageStateChange","_m","style","otherProps","indexOf","getOwnPropertySymbols","__rest","_o","setCanvas","_p","simulatorRef","useRef","entropyForceRef","_q","setPixelManagers","mergedParticleOptions","simulator_1","current","death","setUp","Loading","Loaded","catch","all","updateScale","useCallback","entropyForce","_r","setMouseMoveParticleForce","setTouchMoveParticleForce","_t","setMouseDownParticleForce","onMouseMove","position_1","onTouchMove","position_2","touches","getTouchPosition","onMouseDown","position_3","touchAction","ref","c","round","ceil","motionForce","SCenterContainer","MDBBtn","useWindowSize","pixel","Number","Layout","title","PageHeader","PageMain"],"mappings":"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","file":"component---src-pages-particle-tsx-4818f8ff79e800aea2b0.js","sourcesContent":["/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport styled, { DefaultTheme, ThemeProps } from 'styled-components';\n\ninterface PageHeaderProps {\n  children?: React.ReactNode;\n}\n\nconst SPageHeaderContainer = styled.div<ThemeProps<DefaultTheme>>`\n  display: flex;\n  padding: 30px 40px;\n  margin: 0;\n  background-color: ${props => props.theme.palette.common.pageBackgroundAlt};\n  width: 100%;\n`;\n\nconst PageHeader: React.FC<PageHeaderProps> = ({\n  children,\n}: PageHeaderProps) => {\n  return <SPageHeaderContainer>{children}</SPageHeaderContainer>;\n};\n\nexport default PageHeader;\n","/* eslint-disable react/require-default-props */\nimport React from 'react';\nimport styled from 'styled-components';\nimport { TPageMain } from './ThemedComponents';\n\ninterface Props {\n  children?: React.ReactNode;\n}\n\nconst SPageMain = styled(TPageMain)`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n`;\n\nconst PageMain: React.FunctionComponent<Props> = ({ children }: Props) => {\n  return <SPageMain>{children}</SPageMain>;\n};\n\nexport default PageMain;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import _slicedToArray from \"/home/richard/Development/Portfolio/richen-portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useLayoutEffect, useState } from 'react';\n/**\r\n * useIsomorphicEffect\r\n * Resolves to useEffect when \"window\" is not in scope and useLayout effect in the browser\r\n * @param {function} callback Callback function to be called on mount\r\n */\n\nvar useIsomorphicEffect = typeof window === \"undefined\" ? useEffect : useLayoutEffect;\nvar nullDimensions = {\n  innerWidth: null,\n  innerHeight: null,\n  outerWidth: null,\n  outerHeight: null\n};\n\nfunction getDimensions() {\n  return {\n    innerWidth: window.innerWidth,\n    innerHeight: window.innerHeight,\n    outerWidth: window.outerWidth,\n    outerHeight: window.outerHeight\n  };\n}\n/**\r\n * useWindowSize hook\r\n * A hook that provides information of the dimensions of the window\r\n * @return Dimensions of the window\r\n */\n\n\nfunction useWindowSize() {\n  var _useState = useState(function () {\n    if (typeof window !== \"undefined\") {\n      return getDimensions();\n    } else {\n      return nullDimensions;\n    }\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      windowSize = _useState2[0],\n      setWindowSize = _useState2[1]; // set resize handler once on mount and clean before unmount\n\n\n  useIsomorphicEffect(function () {\n    function onResize() {\n      setWindowSize(getDimensions());\n    }\n\n    window.addEventListener(\"resize\", onResize);\n    return function () {\n      window.removeEventListener(\"resize\", onResize);\n    };\n  }, []);\n  return windowSize;\n}\n\nexport default useWindowSize;","import React, { useEffect, useState, useRef, useCallback } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : new P(function (resolve) {\n        resolve(result.value);\n      }).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n      r,\n      ar = [],\n      e;\n\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n\n  return ar;\n}\n\nfunction __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(__read(arguments[i]));\n  }\n\n  return ar;\n}\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\n\n\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\n\n\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nvar lodash_throttle = throttle;\n\nvar Vector =\n/** @class */\nfunction () {\n  function Vector(x, y) {\n    if (x === void 0) {\n      x = 0;\n    }\n\n    if (y === void 0) {\n      y = 0;\n    }\n\n    this.x = x;\n    this.y = y;\n  }\n\n  Vector.prototype.add = function (vector) {\n    this.x += vector.x;\n    this.y += vector.y;\n    return this;\n  };\n\n  Vector.prototype.subtract = function (vector) {\n    this.x -= vector.x;\n    this.y -= vector.y;\n    return this;\n  };\n\n  Vector.prototype.addScalar = function (scalar) {\n    this.x += scalar;\n    this.y += scalar;\n    return this;\n  };\n\n  Vector.prototype.divideScalar = function (scalar) {\n    this.x = this.x / scalar;\n    this.y = this.y / scalar;\n    return this;\n  };\n\n  Vector.prototype.multiplyScalar = function (scalar) {\n    this.x = this.x * scalar;\n    this.y = this.y * scalar;\n    return this;\n  };\n\n  Vector.prototype.getMagnitude = function () {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  };\n\n  Vector.prototype.getAngle = function () {\n    return Math.atan2(this.y, this.x);\n  };\n\n  Vector.prototype.clone = function () {\n    return new Vector(this.x, this.y);\n  };\n\n  Vector.prototype.toUnit = function () {\n    var magnitude = this.getMagnitude();\n\n    if (magnitude) {\n      return this.clone().divideScalar(magnitude);\n    }\n\n    return this.clone();\n  };\n\n  Vector.from = function (angle, magnitude) {\n    return new Vector(magnitude * Math.cos(angle), magnitude * Math.sin(angle));\n  };\n\n  Vector.sum = function (vectors) {\n    var v = new Vector(0, 0);\n    vectors.forEach(function (vector) {\n      v.add(vector);\n    });\n    return v;\n  };\n\n  return Vector;\n}();\n\nvar lodash_flatmap = createCommonjsModule(function (module, exports) {\n  /**\n   * lodash (Custom Build) <https://lodash.com/>\n   * Build: `lodash modularize exports=\"npm\" -o ./`\n   * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n   * Released under MIT license <https://lodash.com/license>\n   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n   */\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n  /** Used as the `TypeError` message for \"Functions\" methods. */\n\n  var FUNC_ERROR_TEXT = 'Expected a function';\n  /** Used to stand-in for `undefined` hash values. */\n\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n  /** Used to compose bitmasks for comparison styles. */\n\n  var UNORDERED_COMPARE_FLAG = 1,\n      PARTIAL_COMPARE_FLAG = 2;\n  /** Used as references for various `Number` constants. */\n\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991;\n  /** `Object#toString` result references. */\n\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      weakMapTag = '[object WeakMap]';\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n  /** Used to match property names within property paths. */\n\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      reLeadingDot = /^\\./,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n  /** Used to match backslashes in property paths. */\n\n  var reEscapeChar = /\\\\(\\\\)?/g;\n  /** Used to detect host constructors (Safari). */\n\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n  /** Used to detect unsigned integer values. */\n\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n  /** Used to identify `toStringTag` values of typed arrays. */\n\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\n  /** Detect free variable `global` from Node.js. */\n\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n  /** Detect free variable `self`. */\n\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n  /** Used as a reference to the global object. */\n\n  var root = freeGlobal || freeSelf || Function('return this')();\n  /** Detect free variable `exports`. */\n\n  var freeExports = exports && !exports.nodeType && exports;\n  /** Detect free variable `module`. */\n\n  var freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n  /** Detect the popular CommonJS extension `module.exports`. */\n\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n  /** Detect free variable `process` from Node.js. */\n\n  var freeProcess = moduleExports && freeGlobal.process;\n  /** Used to access faster Node.js helpers. */\n\n  var nodeUtil = function () {\n    try {\n      return freeProcess && freeProcess.binding('util');\n    } catch (e) {}\n  }();\n  /* Node.js helper references. */\n\n\n  var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array ? array.length : 0,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n\n    return result;\n  }\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n\n\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n\n    return array;\n  }\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n\n\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n\n\n  function baseProperty(key) {\n    return function (object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n\n\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n\n\n  function baseUnary(func) {\n    return function (value) {\n      return func(value);\n    };\n  }\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n\n\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n  /**\n   * Checks if `value` is a host object in IE < 9.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n   */\n\n\n  function isHostObject(value) {\n    // Many host objects are `Object` objects that can coerce to strings\n    // despite having improperly defined `toString` methods.\n    var result = false;\n\n    if (value != null && typeof value.toString != 'function') {\n      try {\n        result = !!(value + '');\n      } catch (e) {}\n    }\n\n    return result;\n  }\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n\n\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n    map.forEach(function (value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n\n\n  function overArg(func, transform) {\n    return function (arg) {\n      return func(transform(arg));\n    };\n  }\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n\n\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n    set.forEach(function (value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n  /** Used for built-in method references. */\n\n\n  var arrayProto = Array.prototype,\n      funcProto = Function.prototype,\n      objectProto = Object.prototype;\n  /** Used to detect overreaching core-js shims. */\n\n  var coreJsData = root['__core-js_shared__'];\n  /** Used to detect methods masquerading as native. */\n\n  var maskSrcKey = function () {\n    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n    return uid ? 'Symbol(src)_1.' + uid : '';\n  }();\n  /** Used to resolve the decompiled source of functions. */\n\n\n  var funcToString = funcProto.toString;\n  /** Used to check objects for own properties. */\n\n  var hasOwnProperty = objectProto.hasOwnProperty;\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n\n  var objectToString = objectProto.toString;\n  /** Used to detect if a method is native. */\n\n  var reIsNative = RegExp('^' + funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&').replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$');\n  /** Built-in value references. */\n\n  var Symbol = root.Symbol,\n      Uint8Array = root.Uint8Array,\n      propertyIsEnumerable = objectProto.propertyIsEnumerable,\n      splice = arrayProto.splice,\n      spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n\n  var nativeKeys = overArg(Object.keys, Object);\n  /* Built-in method references that are verified to be native. */\n\n  var DataView = getNative(root, 'DataView'),\n      Map = getNative(root, 'Map'),\n      Promise = getNative(root, 'Promise'),\n      Set = getNative(root, 'Set'),\n      WeakMap = getNative(root, 'WeakMap'),\n      nativeCreate = getNative(Object, 'create');\n  /** Used to detect maps, sets, and weakmaps. */\n\n  var dataViewCtorString = toSource(DataView),\n      mapCtorString = toSource(Map),\n      promiseCtorString = toSource(Promise),\n      setCtorString = toSource(Set),\n      weakMapCtorString = toSource(WeakMap);\n  /** Used to convert symbols to primitives and strings. */\n\n  var symbolProto = Symbol ? Symbol.prototype : undefined,\n      symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n      symbolToString = symbolProto ? symbolProto.toString : undefined;\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function Hash(entries) {\n    var index = -1,\n        length = entries ? entries.length : 0;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n\n\n  function hashClear() {\n    this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  }\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function hashDelete(key) {\n    return this.has(key) && delete this.__data__[key];\n  }\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function hashGet(key) {\n    var data = this.__data__;\n\n    if (nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED ? undefined : result;\n    }\n\n    return hasOwnProperty.call(data, key) ? data[key] : undefined;\n  }\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function hashHas(key) {\n    var data = this.__data__;\n    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n  }\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n\n\n  function hashSet(key, value) {\n    var data = this.__data__;\n    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;\n    return this;\n  } // Add methods to `Hash`.\n\n\n  Hash.prototype.clear = hashClear;\n  Hash.prototype['delete'] = hashDelete;\n  Hash.prototype.get = hashGet;\n  Hash.prototype.has = hashHas;\n  Hash.prototype.set = hashSet;\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function ListCache(entries) {\n    var index = -1,\n        length = entries ? entries.length : 0;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n\n\n  function listCacheClear() {\n    this.__data__ = [];\n  }\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function listCacheDelete(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      return false;\n    }\n\n    var lastIndex = data.length - 1;\n\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n\n    return true;\n  }\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function listCacheGet(key) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n    return index < 0 ? undefined : data[index][1];\n  }\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function listCacheHas(key) {\n    return assocIndexOf(this.__data__, key) > -1;\n  }\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n\n\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n        index = assocIndexOf(data, key);\n\n    if (index < 0) {\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n\n    return this;\n  } // Add methods to `ListCache`.\n\n\n  ListCache.prototype.clear = listCacheClear;\n  ListCache.prototype['delete'] = listCacheDelete;\n  ListCache.prototype.get = listCacheGet;\n  ListCache.prototype.has = listCacheHas;\n  ListCache.prototype.set = listCacheSet;\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function MapCache(entries) {\n    var index = -1,\n        length = entries ? entries.length : 0;\n    this.clear();\n\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n\n\n  function mapCacheClear() {\n    this.__data__ = {\n      'hash': new Hash(),\n      'map': new (Map || ListCache)(),\n      'string': new Hash()\n    };\n  }\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function mapCacheDelete(key) {\n    return getMapData(this, key)['delete'](key);\n  }\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function mapCacheGet(key) {\n    return getMapData(this, key).get(key);\n  }\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function mapCacheHas(key) {\n    return getMapData(this, key).has(key);\n  }\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n\n\n  function mapCacheSet(key, value) {\n    getMapData(this, key).set(key, value);\n    return this;\n  } // Add methods to `MapCache`.\n\n\n  MapCache.prototype.clear = mapCacheClear;\n  MapCache.prototype['delete'] = mapCacheDelete;\n  MapCache.prototype.get = mapCacheGet;\n  MapCache.prototype.has = mapCacheHas;\n  MapCache.prototype.set = mapCacheSet;\n  /**\n   *\n   * Creates an array cache object to store unique values.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [values] The values to cache.\n   */\n\n  function SetCache(values) {\n    var index = -1,\n        length = values ? values.length : 0;\n    this.__data__ = new MapCache();\n\n    while (++index < length) {\n      this.add(values[index]);\n    }\n  }\n  /**\n   * Adds `value` to the array cache.\n   *\n   * @private\n   * @name add\n   * @memberOf SetCache\n   * @alias push\n   * @param {*} value The value to cache.\n   * @returns {Object} Returns the cache instance.\n   */\n\n\n  function setCacheAdd(value) {\n    this.__data__.set(value, HASH_UNDEFINED);\n\n    return this;\n  }\n  /**\n   * Checks if `value` is in the array cache.\n   *\n   * @private\n   * @name has\n   * @memberOf SetCache\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `true` if `value` is found, else `false`.\n   */\n\n\n  function setCacheHas(value) {\n    return this.__data__.has(value);\n  } // Add methods to `SetCache`.\n\n\n  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n  SetCache.prototype.has = setCacheHas;\n  /**\n   * Creates a stack cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n\n  function Stack(entries) {\n    this.__data__ = new ListCache(entries);\n  }\n  /**\n   * Removes all key-value entries from the stack.\n   *\n   * @private\n   * @name clear\n   * @memberOf Stack\n   */\n\n\n  function stackClear() {\n    this.__data__ = new ListCache();\n  }\n  /**\n   * Removes `key` and its value from the stack.\n   *\n   * @private\n   * @name delete\n   * @memberOf Stack\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n\n\n  function stackDelete(key) {\n    return this.__data__['delete'](key);\n  }\n  /**\n   * Gets the stack value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Stack\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n\n\n  function stackGet(key) {\n    return this.__data__.get(key);\n  }\n  /**\n   * Checks if a stack value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Stack\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n\n\n  function stackHas(key) {\n    return this.__data__.has(key);\n  }\n  /**\n   * Sets the stack `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Stack\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the stack cache instance.\n   */\n\n\n  function stackSet(key, value) {\n    var cache = this.__data__;\n\n    if (cache instanceof ListCache) {\n      var pairs = cache.__data__;\n\n      if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {\n        pairs.push([key, value]);\n        return this;\n      }\n\n      cache = this.__data__ = new MapCache(pairs);\n    }\n\n    cache.set(key, value);\n    return this;\n  } // Add methods to `Stack`.\n\n\n  Stack.prototype.clear = stackClear;\n  Stack.prototype['delete'] = stackDelete;\n  Stack.prototype.get = stackGet;\n  Stack.prototype.has = stackHas;\n  Stack.prototype.set = stackSet;\n  /**\n   * Creates an array of the enumerable property names of the array-like `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @param {boolean} inherited Specify returning inherited property names.\n   * @returns {Array} Returns the array of property names.\n   */\n\n  function arrayLikeKeys(value, inherited) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    // Safari 9 makes `arguments.length` enumerable in strict mode.\n    var result = isArray(value) || isArguments(value) ? baseTimes(value.length, String) : [];\n    var length = result.length,\n        skipIndexes = !!length;\n\n    for (var key in value) {\n      if ((inherited || hasOwnProperty.call(value, key)) && !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n        result.push(key);\n      }\n    }\n\n    return result;\n  }\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n\n\n  function assocIndexOf(array, key) {\n    var length = array.length;\n\n    while (length--) {\n      if (eq(array[length][0], key)) {\n        return length;\n      }\n    }\n\n    return -1;\n  }\n  /**\n   * The base implementation of `_.forEach` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array|Object} Returns `collection`.\n   */\n\n\n  var baseEach = createBaseEach(baseForOwn);\n  /**\n   * The base implementation of `_.flatten` with support for restricting flattening.\n   *\n   * @private\n   * @param {Array} array The array to flatten.\n   * @param {number} depth The maximum recursion depth.\n   * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n   * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n   * @param {Array} [result=[]] The initial result value.\n   * @returns {Array} Returns the new flattened array.\n   */\n\n  function baseFlatten(array, depth, predicate, isStrict, result) {\n    var index = -1,\n        length = array.length;\n    predicate || (predicate = isFlattenable);\n    result || (result = []);\n\n    while (++index < length) {\n      var value = array[index];\n\n      if (depth > 0 && predicate(value)) {\n        if (depth > 1) {\n          // Recursively flatten arrays (susceptible to call stack limits).\n          baseFlatten(value, depth - 1, predicate, isStrict, result);\n        } else {\n          arrayPush(result, value);\n        }\n      } else if (!isStrict) {\n        result[result.length] = value;\n      }\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `baseForOwn` which iterates over `object`\n   * properties returned by `keysFunc` and invokes `iteratee` for each property.\n   * Iteratee functions may exit iteration early by explicitly returning `false`.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {Function} keysFunc The function to get the keys of `object`.\n   * @returns {Object} Returns `object`.\n   */\n\n\n  var baseFor = createBaseFor();\n  /**\n   * The base implementation of `_.forOwn` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Object} object The object to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Object} Returns `object`.\n   */\n\n  function baseForOwn(object, iteratee) {\n    return object && baseFor(object, iteratee, keys);\n  }\n  /**\n   * The base implementation of `_.get` without support for default values.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path of the property to get.\n   * @returns {*} Returns the resolved value.\n   */\n\n\n  function baseGet(object, path) {\n    path = isKey(path, object) ? [path] : castPath(path);\n    var index = 0,\n        length = path.length;\n\n    while (object != null && index < length) {\n      object = object[toKey(path[index++])];\n    }\n\n    return index && index == length ? object : undefined;\n  }\n  /**\n   * The base implementation of `getTag`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n\n\n  function baseGetTag(value) {\n    return objectToString.call(value);\n  }\n  /**\n   * The base implementation of `_.hasIn` without support for deep paths.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {Array|string} key The key to check.\n   * @returns {boolean} Returns `true` if `key` exists, else `false`.\n   */\n\n\n  function baseHasIn(object, key) {\n    return object != null && key in Object(object);\n  }\n  /**\n   * The base implementation of `_.isEqual` which supports partial comparisons\n   * and tracks traversed objects.\n   *\n   * @private\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {boolean} [bitmask] The bitmask of comparison flags.\n   *  The bitmask may be composed of the following flags:\n   *     1 - Unordered comparison\n   *     2 - Partial comparison\n   * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   */\n\n\n  function baseIsEqual(value, other, customizer, bitmask, stack) {\n    if (value === other) {\n      return true;\n    }\n\n    if (value == null || other == null || !isObject(value) && !isObjectLike(other)) {\n      return value !== value && other !== other;\n    }\n\n    return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n  }\n  /**\n   * A specialized version of `baseIsEqual` for arrays and objects which performs\n   * deep comparisons and tracks traversed objects enabling objects with circular\n   * references to be compared.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n    var objIsArr = isArray(object),\n        othIsArr = isArray(other),\n        objTag = arrayTag,\n        othTag = arrayTag;\n\n    if (!objIsArr) {\n      objTag = getTag(object);\n      objTag = objTag == argsTag ? objectTag : objTag;\n    }\n\n    if (!othIsArr) {\n      othTag = getTag(other);\n      othTag = othTag == argsTag ? objectTag : othTag;\n    }\n\n    var objIsObj = objTag == objectTag && !isHostObject(object),\n        othIsObj = othTag == objectTag && !isHostObject(other),\n        isSameTag = objTag == othTag;\n\n    if (isSameTag && !objIsObj) {\n      stack || (stack = new Stack());\n      return objIsArr || isTypedArray(object) ? equalArrays(object, other, equalFunc, customizer, bitmask, stack) : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n    }\n\n    if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n      var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n          othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n      if (objIsWrapped || othIsWrapped) {\n        var objUnwrapped = objIsWrapped ? object.value() : object,\n            othUnwrapped = othIsWrapped ? other.value() : other;\n        stack || (stack = new Stack());\n        return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n      }\n    }\n\n    if (!isSameTag) {\n      return false;\n    }\n\n    stack || (stack = new Stack());\n    return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n  }\n  /**\n   * The base implementation of `_.isMatch` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Object} object The object to inspect.\n   * @param {Object} source The object of property values to match.\n   * @param {Array} matchData The property names, values, and compare flags to match.\n   * @param {Function} [customizer] The function to customize comparisons.\n   * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n   */\n\n\n  function baseIsMatch(object, source, matchData, customizer) {\n    var index = matchData.length,\n        length = index,\n        noCustomizer = !customizer;\n\n    if (object == null) {\n      return !length;\n    }\n\n    object = Object(object);\n\n    while (index--) {\n      var data = matchData[index];\n\n      if (noCustomizer && data[2] ? data[1] !== object[data[0]] : !(data[0] in object)) {\n        return false;\n      }\n    }\n\n    while (++index < length) {\n      data = matchData[index];\n      var key = data[0],\n          objValue = object[key],\n          srcValue = data[1];\n\n      if (noCustomizer && data[2]) {\n        if (objValue === undefined && !(key in object)) {\n          return false;\n        }\n      } else {\n        var stack = new Stack();\n\n        if (customizer) {\n          var result = customizer(objValue, srcValue, key, object, source, stack);\n        }\n\n        if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack) : result)) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  }\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n\n\n  function baseIsNative(value) {\n    if (!isObject(value) || isMasked(value)) {\n      return false;\n    }\n\n    var pattern = isFunction(value) || isHostObject(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(toSource(value));\n  }\n  /**\n   * The base implementation of `_.isTypedArray` without Node.js optimizations.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   */\n\n\n  function baseIsTypedArray(value) {\n    return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n  }\n  /**\n   * The base implementation of `_.iteratee`.\n   *\n   * @private\n   * @param {*} [value=_.identity] The value to convert to an iteratee.\n   * @returns {Function} Returns the iteratee.\n   */\n\n\n  function baseIteratee(value) {\n    // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n    // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n    if (typeof value == 'function') {\n      return value;\n    }\n\n    if (value == null) {\n      return identity;\n    }\n\n    if (typeof value == 'object') {\n      return isArray(value) ? baseMatchesProperty(value[0], value[1]) : baseMatches(value);\n    }\n\n    return property(value);\n  }\n  /**\n   * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   */\n\n\n  function baseKeys(object) {\n    if (!isPrototype(object)) {\n      return nativeKeys(object);\n    }\n\n    var result = [];\n\n    for (var key in Object(object)) {\n      if (hasOwnProperty.call(object, key) && key != 'constructor') {\n        result.push(key);\n      }\n    }\n\n    return result;\n  }\n  /**\n   * The base implementation of `_.map` without support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n\n\n  function baseMap(collection, iteratee) {\n    var index = -1,\n        result = isArrayLike(collection) ? Array(collection.length) : [];\n    baseEach(collection, function (value, key, collection) {\n      result[++index] = iteratee(value, key, collection);\n    });\n    return result;\n  }\n  /**\n   * The base implementation of `_.matches` which doesn't clone `source`.\n   *\n   * @private\n   * @param {Object} source The object of property values to match.\n   * @returns {Function} Returns the new spec function.\n   */\n\n\n  function baseMatches(source) {\n    var matchData = getMatchData(source);\n\n    if (matchData.length == 1 && matchData[0][2]) {\n      return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n    }\n\n    return function (object) {\n      return object === source || baseIsMatch(object, source, matchData);\n    };\n  }\n  /**\n   * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n   *\n   * @private\n   * @param {string} path The path of the property to get.\n   * @param {*} srcValue The value to match.\n   * @returns {Function} Returns the new spec function.\n   */\n\n\n  function baseMatchesProperty(path, srcValue) {\n    if (isKey(path) && isStrictComparable(srcValue)) {\n      return matchesStrictComparable(toKey(path), srcValue);\n    }\n\n    return function (object) {\n      var objValue = get(object, path);\n      return objValue === undefined && objValue === srcValue ? hasIn(object, path) : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n    };\n  }\n  /**\n   * A specialized version of `baseProperty` which supports deep paths.\n   *\n   * @private\n   * @param {Array|string} path The path of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n\n\n  function basePropertyDeep(path) {\n    return function (object) {\n      return baseGet(object, path);\n    };\n  }\n  /**\n   * The base implementation of `_.toString` which doesn't convert nullish\n   * values to empty strings.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n\n\n  function baseToString(value) {\n    // Exit early for strings to avoid a performance hit in some environments.\n    if (typeof value == 'string') {\n      return value;\n    }\n\n    if (isSymbol(value)) {\n      return symbolToString ? symbolToString.call(value) : '';\n    }\n\n    var result = value + '';\n    return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n  }\n  /**\n   * Casts `value` to a path array if it's not one.\n   *\n   * @private\n   * @param {*} value The value to inspect.\n   * @returns {Array} Returns the cast property path array.\n   */\n\n\n  function castPath(value) {\n    return isArray(value) ? value : stringToPath(value);\n  }\n  /**\n   * Creates a `baseEach` or `baseEachRight` function.\n   *\n   * @private\n   * @param {Function} eachFunc The function to iterate over a collection.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n\n\n  function createBaseEach(eachFunc, fromRight) {\n    return function (collection, iteratee) {\n      if (collection == null) {\n        return collection;\n      }\n\n      if (!isArrayLike(collection)) {\n        return eachFunc(collection, iteratee);\n      }\n\n      var length = collection.length,\n          index = fromRight ? length : -1,\n          iterable = Object(collection);\n\n      while (fromRight ? index-- : ++index < length) {\n        if (iteratee(iterable[index], index, iterable) === false) {\n          break;\n        }\n      }\n\n      return collection;\n    };\n  }\n  /**\n   * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n   *\n   * @private\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {Function} Returns the new base function.\n   */\n\n\n  function createBaseFor(fromRight) {\n    return function (object, iteratee, keysFunc) {\n      var index = -1,\n          iterable = Object(object),\n          props = keysFunc(object),\n          length = props.length;\n\n      while (length--) {\n        var key = props[fromRight ? length : ++index];\n\n        if (iteratee(iterable[key], key, iterable) === false) {\n          break;\n        }\n      }\n\n      return object;\n    };\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for arrays with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Array} array The array to compare.\n   * @param {Array} other The other array to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} stack Tracks traversed `array` and `other` objects.\n   * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n   */\n\n\n  function equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n    var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n        arrLength = array.length,\n        othLength = other.length;\n\n    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n      return false;\n    } // Assume cyclic values are equal.\n\n\n    var stacked = stack.get(array);\n\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n\n    var index = -1,\n        result = true,\n        seen = bitmask & UNORDERED_COMPARE_FLAG ? new SetCache() : undefined;\n    stack.set(array, other);\n    stack.set(other, array); // Ignore non-index properties.\n\n    while (++index < arrLength) {\n      var arrValue = array[index],\n          othValue = other[index];\n\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, arrValue, index, other, array, stack) : customizer(arrValue, othValue, index, array, other, stack);\n      }\n\n      if (compared !== undefined) {\n        if (compared) {\n          continue;\n        }\n\n        result = false;\n        break;\n      } // Recursively compare arrays (susceptible to call stack limits).\n\n\n      if (seen) {\n        if (!arraySome(other, function (othValue, othIndex) {\n          if (!seen.has(othIndex) && (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n            return seen.add(othIndex);\n          }\n        })) {\n          result = false;\n          break;\n        }\n      } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n        result = false;\n        break;\n      }\n    }\n\n    stack['delete'](array);\n    stack['delete'](other);\n    return result;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for comparing objects of\n   * the same `toStringTag`.\n   *\n   * **Note:** This function only supports comparing values with tags of\n   * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {string} tag The `toStringTag` of the objects to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n    switch (tag) {\n      case dataViewTag:\n        if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {\n          return false;\n        }\n\n        object = object.buffer;\n        other = other.buffer;\n\n      case arrayBufferTag:\n        if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n          return false;\n        }\n\n        return true;\n\n      case boolTag:\n      case dateTag:\n      case numberTag:\n        // Coerce booleans to `1` or `0` and dates to milliseconds.\n        // Invalid dates are coerced to `NaN`.\n        return eq(+object, +other);\n\n      case errorTag:\n        return object.name == other.name && object.message == other.message;\n\n      case regexpTag:\n      case stringTag:\n        // Coerce regexes to strings and treat strings, primitives and objects,\n        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n        // for more details.\n        return object == other + '';\n\n      case mapTag:\n        var convert = mapToArray;\n\n      case setTag:\n        var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n        convert || (convert = setToArray);\n\n        if (object.size != other.size && !isPartial) {\n          return false;\n        } // Assume cyclic values are equal.\n\n\n        var stacked = stack.get(object);\n\n        if (stacked) {\n          return stacked == other;\n        }\n\n        bitmask |= UNORDERED_COMPARE_FLAG; // Recursively compare objects (susceptible to call stack limits).\n\n        stack.set(object, other);\n        var result = equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n        stack['delete'](object);\n        return result;\n\n      case symbolTag:\n        if (symbolValueOf) {\n          return symbolValueOf.call(object) == symbolValueOf.call(other);\n        }\n\n    }\n\n    return false;\n  }\n  /**\n   * A specialized version of `baseIsEqualDeep` for objects with support for\n   * partial deep comparisons.\n   *\n   * @private\n   * @param {Object} object The object to compare.\n   * @param {Object} other The other object to compare.\n   * @param {Function} equalFunc The function to determine equivalents of values.\n   * @param {Function} customizer The function to customize comparisons.\n   * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n   *  for more details.\n   * @param {Object} stack Tracks traversed `object` and `other` objects.\n   * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n   */\n\n\n  function equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n    var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n        objProps = keys(object),\n        objLength = objProps.length,\n        othProps = keys(other),\n        othLength = othProps.length;\n\n    if (objLength != othLength && !isPartial) {\n      return false;\n    }\n\n    var index = objLength;\n\n    while (index--) {\n      var key = objProps[index];\n\n      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n        return false;\n      }\n    } // Assume cyclic values are equal.\n\n\n    var stacked = stack.get(object);\n\n    if (stacked && stack.get(other)) {\n      return stacked == other;\n    }\n\n    var result = true;\n    stack.set(object, other);\n    stack.set(other, object);\n    var skipCtor = isPartial;\n\n    while (++index < objLength) {\n      key = objProps[index];\n      var objValue = object[key],\n          othValue = other[key];\n\n      if (customizer) {\n        var compared = isPartial ? customizer(othValue, objValue, key, other, object, stack) : customizer(objValue, othValue, key, object, other, stack);\n      } // Recursively compare objects (susceptible to call stack limits).\n\n\n      if (!(compared === undefined ? objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack) : compared)) {\n        result = false;\n        break;\n      }\n\n      skipCtor || (skipCtor = key == 'constructor');\n    }\n\n    if (result && !skipCtor) {\n      var objCtor = object.constructor,\n          othCtor = other.constructor; // Non `Object` object instances with different constructors are not equal.\n\n      if (objCtor != othCtor && 'constructor' in object && 'constructor' in other && !(typeof objCtor == 'function' && objCtor instanceof objCtor && typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n        result = false;\n      }\n    }\n\n    stack['delete'](object);\n    stack['delete'](other);\n    return result;\n  }\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n\n\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return isKeyable(key) ? data[typeof key == 'string' ? 'string' : 'hash'] : data.map;\n  }\n  /**\n   * Gets the property names, values, and compare flags of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the match data of `object`.\n   */\n\n\n  function getMatchData(object) {\n    var result = keys(object),\n        length = result.length;\n\n    while (length--) {\n      var key = result[length],\n          value = object[key];\n      result[length] = [key, value, isStrictComparable(value)];\n    }\n\n    return result;\n  }\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n\n\n  function getNative(object, key) {\n    var value = getValue(object, key);\n    return baseIsNative(value) ? value : undefined;\n  }\n  /**\n   * Gets the `toStringTag` of `value`.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n\n\n  var getTag = baseGetTag; // Fallback for data views, maps, sets, and weak maps in IE 11,\n  // for data views in Edge < 14, and promises in Node.js.\n\n  if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag || Map && getTag(new Map()) != mapTag || Promise && getTag(Promise.resolve()) != promiseTag || Set && getTag(new Set()) != setTag || WeakMap && getTag(new WeakMap()) != weakMapTag) {\n    getTag = function getTag(value) {\n      var result = objectToString.call(value),\n          Ctor = result == objectTag ? value.constructor : undefined,\n          ctorString = Ctor ? toSource(Ctor) : undefined;\n\n      if (ctorString) {\n        switch (ctorString) {\n          case dataViewCtorString:\n            return dataViewTag;\n\n          case mapCtorString:\n            return mapTag;\n\n          case promiseCtorString:\n            return promiseTag;\n\n          case setCtorString:\n            return setTag;\n\n          case weakMapCtorString:\n            return weakMapTag;\n        }\n      }\n\n      return result;\n    };\n  }\n  /**\n   * Checks if `path` exists on `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path to check.\n   * @param {Function} hasFunc The function to check properties.\n   * @returns {boolean} Returns `true` if `path` exists, else `false`.\n   */\n\n\n  function hasPath(object, path, hasFunc) {\n    path = isKey(path, object) ? [path] : castPath(path);\n    var result,\n        index = -1,\n        length = path.length;\n\n    while (++index < length) {\n      var key = toKey(path[index]);\n\n      if (!(result = object != null && hasFunc(object, key))) {\n        break;\n      }\n\n      object = object[key];\n    }\n\n    if (result) {\n      return result;\n    }\n\n    var length = object ? object.length : 0;\n    return !!length && isLength(length) && isIndex(key, length) && (isArray(object) || isArguments(object));\n  }\n  /**\n   * Checks if `value` is a flattenable `arguments` object or array.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n   */\n\n\n  function isFlattenable(value) {\n    return isArray(value) || isArguments(value) || !!(spreadableSymbol && value && value[spreadableSymbol]);\n  }\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n\n\n  function isIndex(value, length) {\n    length = length == null ? MAX_SAFE_INTEGER : length;\n    return !!length && (typeof value == 'number' || reIsUint.test(value)) && value > -1 && value % 1 == 0 && value < length;\n  }\n  /**\n   * Checks if `value` is a property name and not a property path.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {Object} [object] The object to query keys on.\n   * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n   */\n\n\n  function isKey(value, object) {\n    if (isArray(value)) {\n      return false;\n    }\n\n    var type = typeof value;\n\n    if (type == 'number' || type == 'symbol' || type == 'boolean' || value == null || isSymbol(value)) {\n      return true;\n    }\n\n    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) || object != null && value in Object(object);\n  }\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n\n\n  function isKeyable(value) {\n    var type = typeof value;\n    return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ? value !== '__proto__' : value === null;\n  }\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n\n\n  function isMasked(func) {\n    return !!maskSrcKey && maskSrcKey in func;\n  }\n  /**\n   * Checks if `value` is likely a prototype object.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n   */\n\n\n  function isPrototype(value) {\n    var Ctor = value && value.constructor,\n        proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;\n    return value === proto;\n  }\n  /**\n   * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` if suitable for strict\n   *  equality comparisons, else `false`.\n   */\n\n\n  function isStrictComparable(value) {\n    return value === value && !isObject(value);\n  }\n  /**\n   * A specialized version of `matchesProperty` for source values suitable\n   * for strict equality comparisons, i.e. `===`.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @param {*} srcValue The value to match.\n   * @returns {Function} Returns the new spec function.\n   */\n\n\n  function matchesStrictComparable(key, srcValue) {\n    return function (object) {\n      if (object == null) {\n        return false;\n      }\n\n      return object[key] === srcValue && (srcValue !== undefined || key in Object(object));\n    };\n  }\n  /**\n   * Converts `string` to a property path array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the property path array.\n   */\n\n\n  var stringToPath = memoize(function (string) {\n    string = toString(string);\n    var result = [];\n\n    if (reLeadingDot.test(string)) {\n      result.push('');\n    }\n\n    string.replace(rePropName, function (match, number, quote, string) {\n      result.push(quote ? string.replace(reEscapeChar, '$1') : number || match);\n    });\n    return result;\n  });\n  /**\n   * Converts `value` to a string key if it's not a string or symbol.\n   *\n   * @private\n   * @param {*} value The value to inspect.\n   * @returns {string|symbol} Returns the key.\n   */\n\n  function toKey(value) {\n    if (typeof value == 'string' || isSymbol(value)) {\n      return value;\n    }\n\n    var result = value + '';\n    return result == '0' && 1 / value == -INFINITY ? '-0' : result;\n  }\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to process.\n   * @returns {string} Returns the source code.\n   */\n\n\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString.call(func);\n      } catch (e) {}\n\n      try {\n        return func + '';\n      } catch (e) {}\n    }\n\n    return '';\n  }\n  /**\n   * Creates a flattened array of values by running each element in `collection`\n   * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n   * with three arguments: (value, index|key, collection).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Collection\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} [iteratee=_.identity]\n   *  The function invoked per iteration.\n   * @returns {Array} Returns the new flattened array.\n   * @example\n   *\n   * function duplicate(n) {\n   *   return [n, n];\n   * }\n   *\n   * _.flatMap([1, 2], duplicate);\n   * // => [1, 1, 2, 2]\n   */\n\n\n  function flatMap(collection, iteratee) {\n    return baseFlatten(map(collection, iteratee), 1);\n  }\n  /**\n   * Creates an array of values by running each element in `collection` thru\n   * `iteratee`. The iteratee is invoked with three arguments:\n   * (value, index|key, collection).\n   *\n   * Many lodash methods are guarded to work as iteratees for methods like\n   * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n   *\n   * The guarded methods are:\n   * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n   * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n   * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n   * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Collection\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   * @example\n   *\n   * function square(n) {\n   *   return n * n;\n   * }\n   *\n   * _.map([4, 8], square);\n   * // => [16, 64]\n   *\n   * _.map({ 'a': 4, 'b': 8 }, square);\n   * // => [16, 64] (iteration order is not guaranteed)\n   *\n   * var users = [\n   *   { 'user': 'barney' },\n   *   { 'user': 'fred' }\n   * ];\n   *\n   * // The `_.property` iteratee shorthand.\n   * _.map(users, 'user');\n   * // => ['barney', 'fred']\n   */\n\n\n  function map(collection, iteratee) {\n    var func = isArray(collection) ? arrayMap : baseMap;\n    return func(collection, baseIteratee(iteratee, 3));\n  }\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * provided, it determines the cache key for storing the result based on the\n   * arguments provided to the memoized function. By default, the first argument\n   * provided to the memoized function is used as the map cache key. The `func`\n   * is invoked with the `this` binding of the memoized function.\n   *\n   * **Note:** The cache is exposed as the `cache` property on the memoized\n   * function. Its creation may be customized by replacing the `_.memoize.Cache`\n   * constructor with one whose instances implement the\n   * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n   * method interface of `delete`, `get`, `has`, and `set`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] The function to resolve the cache key.\n   * @returns {Function} Returns the new memoized function.\n   * @example\n   *\n   * var object = { 'a': 1, 'b': 2 };\n   * var other = { 'c': 3, 'd': 4 };\n   *\n   * var values = _.memoize(_.values);\n   * values(object);\n   * // => [1, 2]\n   *\n   * values(other);\n   * // => [3, 4]\n   *\n   * object.a = 2;\n   * values(object);\n   * // => [1, 2]\n   *\n   * // Modify the result cache.\n   * values.cache.set(object, ['a', 'b']);\n   * values(object);\n   * // => ['a', 'b']\n   *\n   * // Replace `_.memoize.Cache`.\n   * _.memoize.Cache = WeakMap;\n   */\n\n\n  function memoize(func, resolver) {\n    if (typeof func != 'function' || resolver && typeof resolver != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n\n    var memoized = function memoized() {\n      var args = arguments,\n          key = resolver ? resolver.apply(this, args) : args[0],\n          cache = memoized.cache;\n\n      if (cache.has(key)) {\n        return cache.get(key);\n      }\n\n      var result = func.apply(this, args);\n      memoized.cache = cache.set(key, result);\n      return result;\n    };\n\n    memoized.cache = new (memoize.Cache || MapCache)();\n    return memoized;\n  } // Assign cache to `_.memoize`.\n\n\n  memoize.Cache = MapCache;\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n\n  function eq(value, other) {\n    return value === other || value !== value && other !== other;\n  }\n  /**\n   * Checks if `value` is likely an `arguments` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArguments(function() { return arguments; }());\n   * // => true\n   *\n   * _.isArguments([1, 2, 3]);\n   * // => false\n   */\n\n\n  function isArguments(value) {\n    // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n    return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') && (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n  }\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n\n\n  var isArray = Array.isArray;\n  /**\n   * Checks if `value` is array-like. A value is considered array-like if it's\n   * not a function and has a `value.length` that's an integer greater than or\n   * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n   * @example\n   *\n   * _.isArrayLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLike(document.body.children);\n   * // => true\n   *\n   * _.isArrayLike('abc');\n   * // => true\n   *\n   * _.isArrayLike(_.noop);\n   * // => false\n   */\n\n  function isArrayLike(value) {\n    return value != null && isLength(value.length) && !isFunction(value);\n  }\n  /**\n   * This method is like `_.isArrayLike` except that it also checks if `value`\n   * is an object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array-like object,\n   *  else `false`.\n   * @example\n   *\n   * _.isArrayLikeObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isArrayLikeObject(document.body.children);\n   * // => true\n   *\n   * _.isArrayLikeObject('abc');\n   * // => false\n   *\n   * _.isArrayLikeObject(_.noop);\n   * // => false\n   */\n\n\n  function isArrayLikeObject(value) {\n    return isObjectLike(value) && isArrayLike(value);\n  }\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n\n\n  function isFunction(value) {\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 8-9 which returns 'object' for typed array and other constructors.\n    var tag = isObject(value) ? objectToString.call(value) : '';\n    return tag == funcTag || tag == genTag;\n  }\n  /**\n   * Checks if `value` is a valid array-like length.\n   *\n   * **Note:** This method is loosely based on\n   * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n   * @example\n   *\n   * _.isLength(3);\n   * // => true\n   *\n   * _.isLength(Number.MIN_VALUE);\n   * // => false\n   *\n   * _.isLength(Infinity);\n   * // => false\n   *\n   * _.isLength('3');\n   * // => false\n   */\n\n\n  function isLength(value) {\n    return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n  }\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n\n\n  function isObject(value) {\n    var type = typeof value;\n    return !!value && (type == 'object' || type == 'function');\n  }\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n\n\n  function isObjectLike(value) {\n    return !!value && typeof value == 'object';\n  }\n  /**\n   * Checks if `value` is classified as a `Symbol` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n   * @example\n   *\n   * _.isSymbol(Symbol.iterator);\n   * // => true\n   *\n   * _.isSymbol('abc');\n   * // => false\n   */\n\n\n  function isSymbol(value) {\n    return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n  }\n  /**\n   * Checks if `value` is classified as a typed array.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n   * @example\n   *\n   * _.isTypedArray(new Uint8Array);\n   * // => true\n   *\n   * _.isTypedArray([]);\n   * // => false\n   */\n\n\n  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n  /**\n   * Converts `value` to a string. An empty string is returned for `null`\n   * and `undefined` values. The sign of `-0` is preserved.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   * @example\n   *\n   * _.toString(null);\n   * // => ''\n   *\n   * _.toString(-0);\n   * // => '-0'\n   *\n   * _.toString([1, 2, 3]);\n   * // => '1,2,3'\n   */\n\n  function toString(value) {\n    return value == null ? '' : baseToString(value);\n  }\n  /**\n   * Gets the value at `path` of `object`. If the resolved value is\n   * `undefined`, the `defaultValue` is returned in its place.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.7.0\n   * @category Object\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path of the property to get.\n   * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n   * @returns {*} Returns the resolved value.\n   * @example\n   *\n   * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n   *\n   * _.get(object, 'a[0].b.c');\n   * // => 3\n   *\n   * _.get(object, ['a', '0', 'b', 'c']);\n   * // => 3\n   *\n   * _.get(object, 'a.b.c', 'default');\n   * // => 'default'\n   */\n\n\n  function get(object, path, defaultValue) {\n    var result = object == null ? undefined : baseGet(object, path);\n    return result === undefined ? defaultValue : result;\n  }\n  /**\n   * Checks if `path` is a direct or inherited property of `object`.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Object\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path to check.\n   * @returns {boolean} Returns `true` if `path` exists, else `false`.\n   * @example\n   *\n   * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n   *\n   * _.hasIn(object, 'a');\n   * // => true\n   *\n   * _.hasIn(object, 'a.b');\n   * // => true\n   *\n   * _.hasIn(object, ['a', 'b']);\n   * // => true\n   *\n   * _.hasIn(object, 'b');\n   * // => false\n   */\n\n\n  function hasIn(object, path) {\n    return object != null && hasPath(object, path, baseHasIn);\n  }\n  /**\n   * Creates an array of the own enumerable property names of `object`.\n   *\n   * **Note:** Non-object values are coerced to objects. See the\n   * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n   * for more details.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Object\n   * @param {Object} object The object to query.\n   * @returns {Array} Returns the array of property names.\n   * @example\n   *\n   * function Foo() {\n   *   this.a = 1;\n   *   this.b = 2;\n   * }\n   *\n   * Foo.prototype.c = 3;\n   *\n   * _.keys(new Foo);\n   * // => ['a', 'b'] (iteration order is not guaranteed)\n   *\n   * _.keys('hi');\n   * // => ['0', '1']\n   */\n\n\n  function keys(object) {\n    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n  }\n  /**\n   * This method returns the first argument it receives.\n   *\n   * @static\n   * @since 0.1.0\n   * @memberOf _\n   * @category Util\n   * @param {*} value Any value.\n   * @returns {*} Returns `value`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   *\n   * console.log(_.identity(object) === object);\n   * // => true\n   */\n\n\n  function identity(value) {\n    return value;\n  }\n  /**\n   * Creates a function that returns the value at `path` of a given object.\n   *\n   * @static\n   * @memberOf _\n   * @since 2.4.0\n   * @category Util\n   * @param {Array|string} path The path of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   * @example\n   *\n   * var objects = [\n   *   { 'a': { 'b': 2 } },\n   *   { 'a': { 'b': 1 } }\n   * ];\n   *\n   * _.map(objects, _.property('a.b'));\n   * // => [2, 1]\n   *\n   * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n   * // => [1, 2]\n   */\n\n\n  function property(path) {\n    return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n  }\n\n  module.exports = flatMap;\n});\n\nvar Subverse =\n/** @class */\nfunction () {\n  function Subverse(parent, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this.particles = [];\n    this.particleForces = [];\n    this.subverses = [];\n    this.parent = parent;\n    this.options = options;\n  }\n\n  Subverse.prototype.createSubverse = function () {\n    var subverse = new Subverse(this, this.options);\n    this.subverses.push(subverse);\n    return subverse;\n  };\n\n  Subverse.prototype.removeSubverse = function (subverse) {\n    this.subverses = this.subverses.filter(function (s) {\n      return s !== subverse;\n    });\n  };\n\n  Subverse.prototype.addParticle = function (particle) {\n    this.particles.push(particle);\n  };\n\n  Subverse.prototype.removeParticle = function (particle) {\n    this.particles = this.particles.filter(function (p) {\n      return p !== particle;\n    });\n  };\n\n  Subverse.prototype.getParticles = function () {\n    return this.particles.concat(lodash_flatmap(this.subverses, function (subverse) {\n      return subverse.getParticles();\n    }));\n  };\n\n  Subverse.prototype.addParticleForce = function (particleForce) {\n    this.particleForces.push(particleForce);\n  };\n\n  Subverse.prototype.removeParticleForce = function (particleForce) {\n    this.particleForces = this.particleForces.filter(function (pf) {\n      return pf !== particleForce;\n    });\n  };\n\n  Subverse.prototype.getParticleForces = function () {\n    if (!this.parent) {\n      return this.particleForces;\n    }\n\n    return this.parent.getParticleForces().concat(this.particleForces);\n  };\n\n  Subverse.prototype.enforceBounds = function (particle, bounds) {\n    if (particle.position.x > bounds.right) {\n      particle.position.x = bounds.right;\n      particle.velocity.x *= -1;\n    } else if (particle.position.x < bounds.left) {\n      particle.position.x = bounds.left;\n      particle.velocity.x *= -1;\n    }\n\n    if (particle.position.y > bounds.bottom) {\n      particle.position.y = bounds.bottom;\n      particle.velocity.y *= -1;\n    } else if (particle.position.y < bounds.top) {\n      particle.position.y = bounds.top;\n      particle.velocity.y *= -1;\n    }\n  };\n\n  Subverse.prototype.applyForces = function (particle, particleForces) {\n    var forces = particleForces.map(function (particleForce) {\n      return particleForce(particle);\n    });\n    var netForce = Vector.sum(forces);\n    var acceleration = netForce.divideScalar(particle.mass);\n    particle.position.add(particle.velocity);\n    particle.velocity.add(acceleration);\n  };\n\n  Subverse.prototype.tick = function () {\n    var _this = this;\n\n    var particleForces = this.getParticleForces();\n    this.particles.forEach(function (particle) {\n      _this.applyForces(particle, particleForces);\n\n      if (_this.options.bounds) {\n        _this.enforceBounds(particle, _this.options.bounds);\n      }\n    });\n    this.subverses.forEach(function (subverse) {\n      return subverse.tick();\n    });\n  };\n\n  return Subverse;\n}();\n\nvar timing = {\n  linear: function linear(t) {\n    return t;\n  },\n  easeInQuad: function easeInQuad(t) {\n    return t * t;\n  },\n  easeOutQuad: function easeOutQuad(t) {\n    return t * (2 - t);\n  },\n  easeInOutQuad: function easeInOutQuad(t) {\n    return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n  }\n};\nvar timing$1 = /*#__PURE__*/Object.freeze({\n  default: timing\n});\nvar UniverseState;\n\n(function (UniverseState) {\n  UniverseState[\"Creating\"] = \"Creating\";\n  UniverseState[\"Created\"] = \"Created\";\n  UniverseState[\"Dying\"] = \"Dying\";\n  UniverseState[\"Dead\"] = \"Dead\";\n})(UniverseState || (UniverseState = {}));\n\nvar Universe =\n/** @class */\nfunction (_super) {\n  __extends(Universe, _super);\n\n  function Universe(_a) {\n    var _b = _a === void 0 ? {} : _a,\n        bounds = _b.bounds,\n        _c = _b.frameRate,\n        frameRate = _c === void 0 ? 30 : _c,\n        _d = _b.creationDuration,\n        creationDuration = _d === void 0 ? 500 : _d,\n        _e = _b.deathDuration,\n        deathDuration = _e === void 0 ? 500 : _e,\n        _f = _b.creationTimingFn,\n        creationTimingFn = _f === void 0 ? timing.easeInQuad : _f,\n        _g = _b.deathTimingFn,\n        deathTimingFn = _g === void 0 ? timing.easeInQuad : _g,\n        onStateChange = _b.onStateChange;\n\n    var _this = _super.call(this, null, {\n      bounds: bounds\n    }) || this;\n\n    _this.health = 0;\n    _this.creationRate = 1;\n    _this.deathRate = 1;\n\n    _this.setFrameRate(frameRate);\n\n    _this.setCreationDuration(creationDuration);\n\n    _this.setDeathDuration(deathDuration);\n\n    _this.creationTimingFn = creationTimingFn;\n    _this.deathTimingFn = deathTimingFn;\n    _this.onStateChange = onStateChange;\n\n    _this.setState(UniverseState.Creating);\n\n    return _this;\n  }\n\n  Universe.prototype.setState = function (val) {\n    var _a, _b;\n\n    this.state = val;\n    (_b = (_a = this).onStateChange) === null || _b === void 0 ? void 0 : _b.call(_a, val, this);\n  };\n\n  Universe.prototype.applyGrowth = function (particle) {\n    particle.perceivedRadius = particle.radius * this.creationTimingFn(this.health);\n  };\n\n  Universe.prototype.applyDecay = function (particle) {\n    particle.perceivedRadius = particle.radius * this.deathTimingFn(this.health);\n  };\n\n  Universe.prototype.setCreationDuration = function (creationDuration) {\n    this.creationDuration = creationDuration;\n    this.creationRate = 1000 / (this.creationDuration * this.frameRate);\n  };\n\n  Universe.prototype.setDeathDuration = function (deathDuration) {\n    this.deathDuration = deathDuration;\n    this.deathRate = 1000 / (this.deathDuration * this.frameRate);\n  };\n\n  Universe.prototype.setFrameRate = function (frameRate) {\n    this.frameRate = frameRate;\n    this.creationRate = 1000 / (this.creationDuration * this.frameRate);\n    this.deathRate = 1000 / (this.deathDuration * this.frameRate);\n  };\n\n  Universe.prototype.setOnStateChange = function (onStateChange) {\n    this.onStateChange = onStateChange;\n  };\n\n  Universe.prototype.die = function () {\n    var _this = this;\n\n    this.setState(UniverseState.Dying);\n    return new Promise(function (resolve) {\n      _this.resolveDeath = resolve;\n    });\n  };\n\n  Universe.prototype.tick = function () {\n    var _this = this;\n\n    if (this.state === UniverseState.Creating) {\n      this.health = Math.min(this.health + this.creationRate, 1);\n      this.getParticles().forEach(function (particle) {\n        _this.applyGrowth(particle);\n      });\n\n      if (this.health === 1) {\n        this.setState(UniverseState.Created);\n      }\n    } else if (this.state === UniverseState.Dying) {\n      this.health = Math.max(this.health - this.deathRate, 0);\n      this.getParticles().forEach(function (particle) {\n        _this.applyDecay(particle);\n      });\n\n      if (this.health === 0) {\n        this.setState(UniverseState.Dead);\n        this.resolveDeath();\n      }\n    }\n\n    _super.prototype.tick.call(this);\n  };\n\n  return Universe;\n}(Subverse);\n\nvar Particle =\n/** @class */\nfunction () {\n  function Particle(_a) {\n    var _b = _a === void 0 ? {} : _a,\n        _c = _b.radius,\n        radius = _c === void 0 ? 1 : _c,\n        _d = _b.friction,\n        friction = _d === void 0 ? 10 : _d,\n        _e = _b.mass,\n        mass = _e === void 0 ? 100 : _e,\n        _f = _b.position,\n        position = _f === void 0 ? new Vector(0, 0) : _f,\n        _g = _b.velocity,\n        velocity = _g === void 0 ? new Vector(0, 0) : _g,\n        _h = _b.color,\n        color = _h === void 0 ? 'black' : _h,\n        _j = _b.growthRate,\n        growthRate = _j === void 0 ? .05 : _j,\n        _k = _b.decayRate,\n        decayRate = _k === void 0 ? .05 : _k;\n\n    this.perceivedRadius = 0;\n    this.radius = radius;\n    this.friction = friction;\n    this.mass = mass;\n    this.position = position;\n    this.velocity = velocity;\n    this.color = color;\n    this.growthRate = growthRate;\n    this.decayRate = decayRate;\n  }\n\n  return Particle;\n}();\n\nvar Renderer =\n/** @class */\nfunction () {\n  function Renderer() {}\n\n  return Renderer;\n}();\n\nfunction getImageData(src) {\n  var image = new Image();\n  image.crossOrigin = \"Anonymous\";\n  var p = new Promise(function (resolve, reject) {\n    image.onload = function () {\n      var canvas = document.createElement(\"canvas\");\n      canvas.width = image.width;\n      canvas.height = image.height;\n      var context = canvas.getContext(\"2d\");\n\n      if (!context) {\n        return reject(new Error('Could not get canvas context'));\n      }\n\n      context.drawImage(image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height);\n      var imageData = context.getImageData(0, 0, canvas.width, canvas.height).data;\n      context.clearRect(0, 0, canvas.width, canvas.height);\n      var pixels = [];\n      var i = 0;\n\n      while (i < imageData.length - 1) {\n        var x = i / 4 % canvas.width;\n        var y = Math.floor(i / 4 / canvas.width);\n\n        if (!pixels[y]) {\n          pixels[y] = [];\n        }\n\n        pixels[y][x] = {\n          r: imageData[i],\n          g: imageData[i + 1],\n          b: imageData[i + 2],\n          a: imageData[i + 3]\n        };\n        i += 4;\n      }\n\n      resolve(new Array2D(pixels));\n    };\n\n    image.onerror = reject;\n  });\n  image.src = src;\n  return p;\n}\n\nvar range = function range(n) {\n  return __spread(Array(n).keys());\n};\n\nvar shuffle = function shuffle(array) {\n  var currentIndex = array.length,\n      temporaryValue,\n      randomIndex;\n\n  while (0 !== currentIndex) {\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n};\n\nvar groupBy = function groupBy(array, grouper) {\n  return array.reduce(function (groups, item) {\n    var key = grouper(item);\n\n    if (!groups[key]) {\n      groups[key] = [];\n    }\n\n    groups[key].push(item);\n    return groups;\n  }, {});\n};\n\nvar TwoPI = Math.PI * 2;\n\nvar getMousePosition = function getMousePosition(event) {\n  var canvas = event.target;\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: (event.clientX - rect.left) / (rect.right - rect.left) * canvas.width,\n    y: (event.clientY - rect.top) / (rect.bottom - rect.top) * canvas.height\n  };\n};\n\nvar getTouchPosition = function getTouchPosition(event) {\n  var canvas = event.target;\n  var rect = canvas.getBoundingClientRect();\n  return {\n    x: (event.touches[0].clientX - rect.left) / (rect.right - rect.left) * canvas.width,\n    y: (event.touches[0].clientY - rect.top) / (rect.bottom - rect.top) * canvas.height\n  };\n};\n\nvar BrowserAnimator =\n/** @class */\nfunction () {\n  function BrowserAnimator(callback, fps) {\n    var _this = this;\n\n    if (fps === void 0) {\n      fps = 30;\n    }\n\n    this.setFps = function (fps) {\n      _this.delay = 1000 / fps;\n      _this.time = null;\n      _this.frame = -1;\n    };\n\n    this.start = function () {\n      if (!_this.rafId) {\n        _this.rafId = requestAnimationFrame(_this.loop);\n      }\n    };\n\n    this.stop = function () {\n      if (_this.rafId) {\n        cancelAnimationFrame(_this.rafId);\n        _this.rafId = null;\n        _this.time = null;\n        _this.frame = -1;\n      }\n    };\n\n    this.loop = function (timestamp) {\n      if (_this.time === null) {\n        _this.time = timestamp;\n      }\n\n      var seg = Math.floor((timestamp - _this.time) / _this.delay); // calc frame no.\n\n      if (seg > _this.frame) {\n        // moved to next frame?\n        _this.frame = seg; // update\n\n        _this.callback({\n          time: timestamp,\n          frame: _this.frame\n        });\n      }\n\n      _this.rafId = requestAnimationFrame(_this.loop);\n    };\n\n    this.delay = 1000 / fps;\n    this.time = null;\n    this.frame = -1;\n    this.callback = callback;\n  }\n\n  return BrowserAnimator;\n}();\n\nvar CanvasRenderer =\n/** @class */\nfunction (_super) {\n  __extends(CanvasRenderer, _super);\n\n  function CanvasRenderer(canvas) {\n    var _this = _super.call(this) || this;\n\n    _this.canvas = canvas;\n    return _this;\n  }\n\n  CanvasRenderer.prototype.context = function () {\n    return this.canvas.getContext('2d');\n  };\n\n  CanvasRenderer.prototype.height = function () {\n    return this.canvas.height;\n  };\n\n  CanvasRenderer.prototype.width = function () {\n    return this.canvas.width;\n  };\n\n  CanvasRenderer.prototype.clear = function () {\n    var _a;\n\n    (_a = this.context()) === null || _a === void 0 ? void 0 : _a.clearRect(0, 0, this.width(), this.height());\n  };\n\n  CanvasRenderer.prototype.drawParticles = function (particles, color) {\n    var context = this.context();\n\n    if (context) {\n      context.fillStyle = color;\n      context.beginPath();\n      particles.forEach(function (particle) {\n        context.moveTo(particle.position.x + particle.radius, particle.position.y);\n        context.arc(particle.position.x, particle.position.y, particle.perceivedRadius, 0, TwoPI);\n      });\n      context.fill();\n    }\n  };\n\n  CanvasRenderer.prototype.drawFrame = function (universe) {\n    var _this = this;\n\n    this.clear();\n    var particles = universe.getParticles();\n    var particlesByColor = groupBy(particles, function (particle) {\n      return particle.color;\n    });\n    Object.keys(particlesByColor).forEach(function (color) {\n      _this.drawParticles(particlesByColor[color], color);\n    });\n  };\n\n  return CanvasRenderer;\n}(Renderer);\n\nvar Simulator =\n/** @class */\nfunction () {\n  function Simulator(renderer, universe, _a) {\n    var _this = this;\n\n    if (universe === void 0) {\n      universe = null;\n    }\n\n    var _b = (_a === void 0 ? {} : _a).frameRate,\n        frameRate = _b === void 0 ? 30 : _b;\n    this.id = null;\n\n    this.start = function () {\n      _this.animator.start();\n    };\n\n    this.stop = function () {\n      _this.animator.stop();\n    };\n\n    this.loop = function () {\n      if (_this.universe) {\n        _this.renderer.drawFrame(_this.universe);\n\n        _this.universe.tick();\n      }\n    };\n\n    this.universe = universe;\n    this.renderer = renderer;\n    this.animator = new BrowserAnimator(this.loop, frameRate);\n  }\n\n  Simulator.prototype.setUniverse = function (universe) {\n    this.universe = universe;\n  };\n\n  return Simulator;\n}();\n\nfunction blackHole$$1(blackHoleX, blackHoleY, strength) {\n  if (strength === void 0) {\n    strength = 1;\n  }\n\n  return function (particle) {\n    var blackHolePosition = new Vector(blackHoleX, blackHoleY);\n    return blackHolePosition.subtract(particle.position).multiplyScalar(strength);\n  };\n}\n\nfunction disturbance$$1(x, y, strength) {\n  if (strength === void 0) {\n    strength = 1;\n  }\n\n  return function (particle) {\n    var holePosition = new Vector(x, y);\n    holePosition.subtract(particle.position).multiplyScalar(-1);\n    holePosition.divideScalar((holePosition.getMagnitude() ^ 12) / (strength + .001) + .01);\n    return holePosition;\n  };\n}\n\nfunction entropy$$1(n) {\n  return function () {\n    var randomForce = new Vector(Math.random() - 0.5, Math.random() - 0.5);\n    return randomForce.multiplyScalar(n);\n  };\n}\n\nvar friction$$1 = function friction$$1(particle) {\n  var friction$$1 = Math.min(Math.max(particle.friction, 0), 1);\n\n  if (particle.velocity.getMagnitude() === 0) {\n    return new Vector(0, 0);\n  }\n\n  return particle.velocity.clone().multiplyScalar(-(friction$$1 * particle.mass));\n};\n\nvar forces = /*#__PURE__*/Object.freeze({\n  blackHole: blackHole$$1,\n  disturbance: disturbance$$1,\n  entropy: entropy$$1,\n  friction: friction$$1\n});\n\nvar PixelManager =\n/** @class */\nfunction () {\n  function PixelManager(options) {\n    var _this = this;\n\n    this.setScale = function (scale) {\n      _this.scale = scale;\n    };\n\n    this.setCanvasWidth = function (width) {\n      _this.canvasWidth = width;\n    };\n\n    this.setCanvasHeight = function (height) {\n      _this.canvasHeight = height;\n    };\n\n    this.getParticleForce = function () {\n      return function (particle) {\n        var pixelPosition = _this.getPixelPosition();\n\n        return blackHole$$1(pixelPosition.x, pixelPosition.y)(particle);\n      };\n    };\n\n    this.getPixelPosition = function () {\n      var x = _this.pixelX * _this.scale + _this.canvasWidth / 2 - _this.imageWidth * _this.scale / 2;\n      var y = _this.pixelY * _this.scale + _this.canvasHeight / 2 - _this.imageHeight * _this.scale / 2;\n      return new Vector(x, y);\n    };\n\n    this.pixelX = options.pixelX;\n    this.pixelY = options.pixelY;\n    this.scale = options.scale;\n    this.imageWidth = options.imageWidth;\n    this.imageHeight = options.imageHeight;\n    this.canvasWidth = options.canvasWidth;\n    this.canvasHeight = options.canvasHeight;\n  }\n\n  return PixelManager;\n}();\n\nvar Array2D =\n/** @class */\nfunction () {\n  function Array2D(array) {\n    this.array = array;\n    this.updateWidth();\n    this.updateHeight();\n  }\n\n  Array2D.prototype.updateWidth = function () {\n    this.width = Math.min.apply(Math, __spread(this.array.map(function (row) {\n      return row.length;\n    })));\n  };\n\n  Array2D.prototype.updateHeight = function () {\n    this.height = this.array.length;\n  };\n\n  Array2D.prototype.getHeight = function () {\n    return this.height;\n  };\n\n  Array2D.prototype.getWidth = function () {\n    return this.width;\n  };\n\n  Array2D.prototype.get = function (x, y) {\n    return this.array[y][x];\n  };\n\n  Array2D.prototype.set = function (x, y, value) {\n    if (!this.array[y]) {\n      this.array[y] = [];\n    }\n\n    this.array[y][x] = value;\n    this.updateWidth();\n    this.updateHeight();\n  };\n\n  Array2D.prototype.slice = function (_a, _b) {\n    var _c = __read(_a, 2),\n        xMin = _c[0],\n        xMax = _c[1];\n\n    var _d = __read(_b, 2),\n        yMin = _d[0],\n        yMax = _d[1];\n\n    return new Array2D(this.array.slice(yMin, yMax).map(function (row) {\n      return row.slice(xMin, xMax);\n    }));\n  };\n\n  Array2D.prototype.forEach = function (callback) {\n    this.array.forEach(function (row, y) {\n      row.forEach(function (item, x) {\n        callback(item, x, y);\n      });\n    });\n  };\n\n  return Array2D;\n}();\n\nvar createImageUniverse = function createImageUniverse(_a) {\n  var url = _a.url,\n      maxParticles = _a.maxParticles,\n      particleOptions = _a.particleOptions,\n      scale = _a.scale,\n      canvasDimensions = _a.canvasDimensions,\n      creationTimingFn = _a.creationTimingFn,\n      deathTimingFn = _a.deathTimingFn,\n      creationDuration = _a.creationDuration,\n      deathDuration = _a.deathDuration,\n      onUniverseStateChange = _a.onUniverseStateChange;\n  return __awaiter(void 0, void 0, void 0, function () {\n    var image, imageHeight, imageWidth, numPixels, indexArray, selectedPixels, universe, pixelManagers, nextIndex, x, y, shouldCreateParticle, subverse, pixelManager, color, radius, friction, mass, position, velocity;\n    return __generator(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          return [4\n          /*yield*/\n          , getImageData(url)];\n\n        case 1:\n          image = _b.sent();\n          imageHeight = image.getHeight();\n          imageWidth = image.getWidth();\n          numPixels = imageHeight * imageWidth;\n          indexArray = shuffle(range(numPixels));\n          selectedPixels = 0;\n          universe = new Universe({\n            creationTimingFn: creationTimingFn,\n            deathTimingFn: deathTimingFn,\n            creationDuration: creationDuration,\n            deathDuration: deathDuration,\n            onStateChange: onUniverseStateChange\n          });\n          pixelManagers = [];\n          maxParticles = Math.min(numPixels, maxParticles);\n\n          while (selectedPixels < maxParticles && indexArray.length) {\n            nextIndex = indexArray.pop() || 0;\n            x = nextIndex % imageWidth;\n            y = Math.floor(nextIndex / imageWidth);\n            shouldCreateParticle = particleOptions.filter({\n              x: x,\n              y: y,\n              image: image\n            });\n\n            if (shouldCreateParticle) {\n              subverse = universe.createSubverse();\n              pixelManager = new PixelManager({\n                pixelX: x,\n                pixelY: y,\n                scale: scale,\n                imageHeight: image.getHeight(),\n                imageWidth: image.getWidth(),\n                canvasWidth: canvasDimensions.width,\n                canvasHeight: canvasDimensions.height\n              });\n              pixelManagers.push(pixelManager);\n              subverse.addParticleForce(pixelManager.getParticleForce());\n              color = particleOptions.color({\n                x: x,\n                y: y,\n                image: image\n              });\n              radius = particleOptions.radius({\n                x: x,\n                y: y,\n                image: image\n              });\n              friction = particleOptions.friction({\n                x: x,\n                y: y,\n                image: image\n              });\n              mass = particleOptions.mass({\n                x: x,\n                y: y,\n                image: image\n              });\n              position = particleOptions.initialPosition({\n                x: x,\n                y: y,\n                image: image,\n                finalPosition: pixelManager.getPixelPosition(),\n                canvasDimensions: canvasDimensions\n              });\n              velocity = particleOptions.initialVelocity({\n                x: x,\n                y: y,\n                image: image\n              });\n              subverse.addParticle(new Particle({\n                radius: radius,\n                mass: mass,\n                color: color,\n                friction: friction,\n                position: position,\n                velocity: velocity\n              }));\n              selectedPixels += 1;\n            }\n          }\n\n          return [2\n          /*return*/\n          , {\n            universe: universe,\n            pixelManagers: pixelManagers\n          }];\n      }\n    });\n  });\n};\n\nvar useTransientParticleForce = function useTransientParticleForce(_a) {\n  var universe = _a.universe,\n      _b = _a.duration,\n      duration = _b === void 0 ? 100 : _b;\n\n  var _c = __read(useState(null), 2),\n      particleForce = _c[0],\n      setParticleForce = _c[1];\n\n  useEffect(function () {\n    // Reset before universe change\n    return function () {\n      setParticleForce(null);\n    };\n  }, [universe]);\n  useEffect(function () {\n    if (universe && particleForce) {\n      universe.addParticleForce(particleForce);\n      var timeoutId_1 = window.setTimeout(function () {\n        universe.removeParticleForce(particleForce);\n        setParticleForce(null);\n      }, duration);\n      return function () {\n        window.clearTimeout(timeoutId_1);\n        universe.removeParticleForce(particleForce);\n      };\n    }\n  }, [universe, particleForce, duration]);\n  return [particleForce, setParticleForce];\n};\n\nvar ImageState;\n\n(function (ImageState) {\n  ImageState[\"Loading\"] = \"Loading\";\n  ImageState[\"Loaded\"] = \"Loaded\";\n  ImageState[\"Error\"] = \"Error\";\n})(ImageState || (ImageState = {}));\n/**\r\n * Default particle options\r\n * @internal\r\n */\n\n\nvar defaultParticleOptions = {\n  filter: function filter() {\n    return true;\n  },\n  radius: function radius() {\n    return 1;\n  },\n  mass: function mass() {\n    return 50;\n  },\n  color: function color() {\n    return 'white';\n  },\n  friction: function friction() {\n    return .15;\n  },\n  initialPosition: function initialPosition(_a) {\n    var finalPosition = _a.finalPosition;\n    return finalPosition;\n  },\n  initialVelocity: function initialVelocity() {\n    return new Vector(0, 0);\n  }\n};\n\nvar ParticleImage = function ParticleImage(_a) {\n  var src = _a.src,\n      _b = _a.height,\n      height = _b === void 0 ? 400 : _b,\n      _c = _a.width,\n      width = _c === void 0 ? 400 : _c,\n      _d = _a.scale,\n      scale = _d === void 0 ? 1 : _d,\n      _e = _a.maxParticles,\n      maxParticles = _e === void 0 ? 5000 : _e,\n      _f = _a.entropy,\n      entropy = _f === void 0 ? 20 : _f,\n      _g = _a.backgroundColor,\n      backgroundColor = _g === void 0 ? '#222' : _g,\n      _h = _a.particleOptions,\n      particleOptions = _h === void 0 ? {} : _h,\n      mouseMoveForce = _a.mouseMoveForce,\n      touchMoveForce = _a.touchMoveForce,\n      mouseDownForce = _a.mouseDownForce,\n      _j = _a.mouseMoveForceDuration,\n      mouseMoveForceDuration = _j === void 0 ? 100 : _j,\n      _k = _a.touchMoveForceDuration,\n      touchMoveForceDuration = _k === void 0 ? 100 : _k,\n      _l = _a.mouseDownForceDuration,\n      mouseDownForceDuration = _l === void 0 ? 100 : _l,\n      creationTimingFn = _a.creationTimingFn,\n      creationDuration = _a.creationDuration,\n      deathTimingFn = _a.deathTimingFn,\n      deathDuration = _a.deathDuration,\n      onUniverseStateChange = _a.onUniverseStateChange,\n      onImageStateChange = _a.onImageStateChange,\n      _m = _a.style,\n      style = _m === void 0 ? {} : _m,\n      otherProps = __rest(_a, [\"src\", \"height\", \"width\", \"scale\", \"maxParticles\", \"entropy\", \"backgroundColor\", \"particleOptions\", \"mouseMoveForce\", \"touchMoveForce\", \"mouseDownForce\", \"mouseMoveForceDuration\", \"touchMoveForceDuration\", \"mouseDownForceDuration\", \"creationTimingFn\", \"creationDuration\", \"deathTimingFn\", \"deathDuration\", \"onUniverseStateChange\", \"onImageStateChange\", \"style\"]);\n\n  var _o = __read(useState(), 2),\n      canvas = _o[0],\n      setCanvas = _o[1];\n\n  var _p = __read(useState(), 2),\n      universe = _p[0],\n      setUniverse = _p[1];\n\n  var simulatorRef = useRef();\n  var entropyForceRef = useRef();\n\n  var _q = __read(useState([]), 2),\n      pixelManagers = _q[0],\n      setPixelManagers = _q[1];\n\n  var mergedParticleOptions = _assign(_assign({}, defaultParticleOptions), particleOptions);\n\n  useEffect(function () {\n    if (canvas) {\n      var renderer = new CanvasRenderer(canvas);\n      var simulator_1 = new Simulator(renderer);\n      simulatorRef.current = simulator_1;\n      simulator_1.start();\n      return function () {\n        return simulator_1.stop();\n      };\n    }\n  }, [canvas]);\n  useEffect(function () {\n    var _a, _b;\n\n    if (canvas) {\n      var canvasDimensions = {\n        width: canvas.width,\n        height: canvas.height\n      };\n      var death = (_a = universe) === null || _a === void 0 ? void 0 : _a.die();\n      var setUp = createImageUniverse({\n        url: src,\n        maxParticles: maxParticles,\n        particleOptions: mergedParticleOptions,\n        scale: scale,\n        canvasDimensions: canvasDimensions,\n        creationTimingFn: creationTimingFn,\n        creationDuration: creationDuration,\n        deathTimingFn: deathTimingFn,\n        deathDuration: deathDuration,\n        onUniverseStateChange: onUniverseStateChange\n      });\n      (_b = onImageStateChange) === null || _b === void 0 ? void 0 : _b(ImageState.Loading);\n      setUp.then(function () {\n        var _a;\n\n        (_a = onImageStateChange) === null || _a === void 0 ? void 0 : _a(ImageState.Loaded);\n      }).catch(function () {\n        var _a;\n\n        (_a = onImageStateChange) === null || _a === void 0 ? void 0 : _a(ImageState.Error);\n      });\n      Promise.all([setUp, death]).then(function (_a) {\n        var _b = __read(_a, 1),\n            _c = _b[0],\n            universe = _c.universe,\n            pixelManagers = _c.pixelManagers;\n\n        var _d;\n\n        setPixelManagers(pixelManagers);\n        universe.addParticleForce(friction$$1);\n        (_d = simulatorRef.current) === null || _d === void 0 ? void 0 : _d.setUniverse(universe);\n        setUniverse(universe);\n      }).catch(function () {// Eat it here, let the consumer handle it via onImageStateChange\n      });\n    }\n  }, [canvas, src]);\n  useEffect(function () {\n    var _a;\n\n    (_a = universe) === null || _a === void 0 ? void 0 : _a.setOnStateChange(onUniverseStateChange);\n  }, [universe, onUniverseStateChange]);\n  var updateScale = useCallback(lodash_throttle(function (scale) {\n    pixelManagers.forEach(function (pixelManager) {\n      pixelManager.setScale(scale);\n    });\n  }, 50), [pixelManagers]);\n  var updateWidth = useCallback(lodash_throttle(function (width) {\n    pixelManagers.forEach(function (pixelManager) {\n      pixelManager.setCanvasWidth(width);\n    });\n  }, 50), [pixelManagers]);\n  var updateHeight = useCallback(lodash_throttle(function (height) {\n    pixelManagers.forEach(function (pixelManager) {\n      pixelManager.setCanvasHeight(height);\n    });\n  }, 50), [pixelManagers]);\n  useEffect(function () {\n    updateScale(scale);\n  }, [scale, updateScale]);\n  useEffect(function () {\n    updateWidth(width);\n  }, [width, updateWidth]);\n  useEffect(function () {\n    updateHeight(height);\n  }, [height, updateHeight]);\n  useEffect(function () {\n    var _a;\n\n    var entropyForce = entropy$$1(entropy);\n    (_a = universe) === null || _a === void 0 ? void 0 : _a.addParticleForce(entropyForce);\n    entropyForceRef.current = entropyForce;\n    return function () {\n      var _a;\n\n      (_a = universe) === null || _a === void 0 ? void 0 : _a.removeParticleForce(entropyForce);\n    };\n  }, [entropy, canvas, universe]);\n\n  var _r = __read(useTransientParticleForce({\n    universe: universe,\n    duration: mouseMoveForceDuration\n  }), 2),\n      mouseMoveParticleForce = _r[0],\n      setMouseMoveParticleForce = _r[1];\n\n  var _s = __read(useTransientParticleForce({\n    universe: universe,\n    duration: touchMoveForceDuration\n  }), 2),\n      touchMoveParticleForce = _s[0],\n      setTouchMoveParticleForce = _s[1];\n\n  var _t = __read(useTransientParticleForce({\n    universe: universe,\n    duration: mouseDownForceDuration\n  }), 2),\n      mouseDownParticleForce = _t[0],\n      setMouseDownParticleForce = _t[1];\n\n  var handleMouseMove = function handleMouseMove(e) {\n    var _a, _b;\n\n    if (mouseMoveForce) {\n      var position_1 = getMousePosition(e);\n      setMouseMoveParticleForce(function () {\n        return mouseMoveForce(position_1.x, position_1.y);\n      });\n    }\n\n    (_b = (_a = otherProps).onMouseMove) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n  };\n\n  var handleTouchMove = function handleTouchMove(e) {\n    var _a, _b;\n\n    if (touchMoveForce) {\n      var position_2 = getTouchPosition(e);\n      setTouchMoveParticleForce(function () {\n        return touchMoveForce(position_2.x, position_2.y);\n      });\n    }\n\n    (_b = (_a = otherProps).onTouchMove) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n  };\n\n  var handleMouseDown = function handleMouseDown(e) {\n    var _a, _b;\n\n    if (mouseDownForce) {\n      var position_3 = getMousePosition(e);\n      setMouseDownParticleForce(function () {\n        return mouseDownForce(position_3.x, position_3.y);\n      });\n    }\n\n    (_b = (_a = otherProps).onMouseDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n  };\n\n  return React.createElement(\"canvas\", _assign({}, otherProps, {\n    onMouseMove: handleMouseMove,\n    onTouchMove: handleTouchMove,\n    onMouseDown: handleMouseDown,\n    height: height,\n    width: width,\n    style: _assign({\n      backgroundColor: backgroundColor,\n      touchAction: 'none'\n    }, style),\n    ref: function ref(c) {\n      var _a;\n\n      if ((_a = c) === null || _a === void 0 ? void 0 : _a.getContext('2d')) {\n        setCanvas(c);\n      }\n    }\n  }));\n};\n\nexport default ParticleImage;\nexport { useTransientParticleForce, BrowserAnimator, getMousePosition, getTouchPosition, Universe, UniverseState, Subverse, Particle, Vector, Renderer, CanvasRenderer, Simulator, PixelManager, Array2D, forces, timing$1 as timing };","import React from 'react';\nimport useWindowSize from '@rooks/use-window-size';\nimport ParticleImage, {\n  ParticleOptions,\n  Vector,\n  forces,\n  ParticleForce,\n} from 'react-particle-image';\nimport { MDBBtn } from 'mdb-react-ui-kit';\nimport styled from 'styled-components';\n\n// Round number up to nearest step for better canvas performance\nconst round = (n: number, step = 20) => Math.ceil(n / step) * step;\n\n// Try making me lower to see how performance degrades\nconst STEP = 30;\n\nconst motionForce = (x: number, y: number): ParticleForce => {\n  return forces.disturbance(x, y, 7);\n};\n\ninterface Props {}\n\nconst SCenterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  height: 500px;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst SCycleButton = styled(MDBBtn)`\n  margin-top: 10px;\n  max-width: 126px;\n  max-height: 38px;\n  width: 126px;\n  height: 38px;\n`;\n\nconst Particle = (props: Props) => {\n  const { innerWidth, innerHeight } = useWindowSize();\n\n  const particleOptions: ParticleOptions = {\n    filter: ({ x, y, image }) => {\n      // Get pixel\n      const pixel = image.get(x, y);\n      // Make a particle for this pixel if magnitude < 200 (range 0-255)\n      const magnitude = (pixel.r + pixel.g + pixel.b) / 3;\n      return magnitude < 200;\n    },\n    color: ({ x, y, image }) => {\n      const pixel = image.get(x, y);\n      // Canvases are much more performant when painting as few colors as possible.\n      // Use color of pixel as color for particle however round to nearest 30\n      // to decrease the number of unique colors painted on the canvas.\n      // You'll notice if we remove this rounding, the framerate will slow down a lot.\n      return `rgba(\n          ${round(pixel.r, STEP)}, \n          ${round(pixel.g, STEP)}, \n          ${round(pixel.b, STEP)}, \n          ${round(pixel.a, STEP) / 255})`;\n    },\n    radius: ({ x, y, image }) => {\n      const pixel = image.get(x, y);\n      const magnitude = (pixel.r + pixel.g + pixel.b) / 3;\n      // Lighter colors will have smaller radius\n      return 3 - (magnitude / 255) * 1.5;\n    },\n    mass: () => 40,\n    friction: () => 0.15,\n    initialPosition: ({ canvasDimensions }) => {\n      return new Vector(\n        canvasDimensions.width / 2,\n        canvasDimensions.height / 2\n      );\n    },\n  };\n\n  return (\n    <>\n      <SCenterContainer>\n        <ParticleImage\n          src=\"/inc-banner.webp\"\n          width={Number(innerWidth) - 500}\n          height={Number(innerHeight) - 400}\n          scale={0.4}\n          entropy={3}\n          maxParticles={5000}\n          particleOptions={particleOptions}\n          mouseMoveForce={motionForce}\n          touchMoveForce={motionForce}\n          backgroundColor=\"black\"\n        />\n      </SCenterContainer>\n    </>\n  );\n};\n\nexport default Particle;\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport PageHeader from '../components/PageHeader';\nimport SEO from '../components/Seo';\nimport Particle from '../components/Particle';\nimport PageMain from '../components/PageMain';\n\ninterface Props {}\n\nconst particle = (props: Props) => {\n  return (\n    <Layout>\n      <SEO title=\"Particle\" />\n      <PageHeader />\n      <PageMain>\n        <Particle />\n      </PageMain>\n    </Layout>\n  );\n};\n\nexport default particle;\n"],"sourceRoot":""}